<!DOCTYPE html><html><head><link rel=manifest href=/manifest.json><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>#10 第十期 - 新的一年，從香草 JS 的單元測試開始 | StarBugs Weekly 星巴哥技術週刊</title><meta name="description" content="#10 第十期 - 新的一年，從香草 JS 的單元測試開始"><meta name="keywords" content=""><meta name="author" content="StarBugs Weekly Editors"><meta name="copyright" content="StarBugs Weekly Editors"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="https://weekly.starbugs.dev/2020/01/07/10-unit-test-of-vanilla-js/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="#10 第十期 - 新的一年，從香草 JS 的單元測試開始"><meta name="twitter:description" content="#10 第十期 - 新的一年，從香草 JS 的單元測試開始"><meta name="twitter:image" content="https://weekly.starbugs.dev/img/010cover.jpg"><meta property="og:type" content="article"><meta property="og:title" content="#10 第十期 - 新的一年，從香草 JS 的單元測試開始"><meta property="og:url" content="https://weekly.starbugs.dev/2020/01/07/10-unit-test-of-vanilla-js/"><meta property="og:site_name" content="StarBugs Weekly 星巴哥技術週刊"><meta property="og:description" content="#10 第十期 - 新的一年，從香草 JS 的單元測試開始"><meta property="og:image" content="https://weekly.starbugs.dev/img/010cover.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="第 11 期 - 訂閱星巴哥，祝你尾牙中大獎！" href="https://weekly.starbugs.dev/2020/01/14/11-you-subscribe-you-will-earn-a-big-prize/"><link rel="next" title="#9 第九期 - 今年的最後一天，星巴哥裡有你有我" href="https://weekly.starbugs.dev/2019/12/31/09-starbugs-is-around-us/"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-151536743-1', 'auto');
ga('send', 'pageview');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'false',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Bookmark',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  copyright: undefined,
  copy_copyright_js: false
  
}</script><link rel="alternate" href="/atom.xml" title="StarBugs Weekly 星巴哥技術週刊" type="application/atom+xml">
</head><body><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">StarBugs Weekly 星巴哥技術週刊</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="https://medium.com/starbugs" target="_blank" rel="noopener"><i class="fa-fw fa fa-medium"></i><span> 技術專欄</span></a></div><div class="menus_item"><a class="site-page" href="https://www.facebook.com/starbugsweekly" target="_blank" rel="noopener"><i class="fa-fw fa fa-facebook"></i><span> 粉絲專頁</span></a></div><div class="menus_item"><a class="site-page" href="/atom.xml"><i class="fa-fw fa fa-rss"></i><span> RSS</span></a></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="/img/logo.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">89</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">2</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="https://medium.com/starbugs" target="_blank" rel="noopener"><i class="fa-fw fa fa-medium"></i><span> 技術專欄</span></a></div><div class="menus_item"><a class="site-page" href="https://www.facebook.com/starbugsweekly" target="_blank" rel="noopener"><i class="fa-fw fa fa-facebook"></i><span> 粉絲專頁</span></a></div><div class="menus_item"><a class="site-page" href="/atom.xml"><i class="fa-fw fa fa-rss"></i><span> RSS</span></a></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div></div><div id="body-wrap"><div id="content-outer"><div class="full_page" id="nav"><div class="nav_bg" style="background-image: url(/img/banner.jpeg)"></div><div id="site-info"><div id="site-title"><span class="blogtitle"><img class="bannerLogo" src="/img/logo.png"></span><!--= page.title || page.tag || page.category || config.title--></div><div id="site-sub-title" style="display: flex;justify-content: center;"><span class="subtitle" style="width: 75%; max-width: 900px;">StarBugs Weekly 由一群在星空般的 Bug 中求生存的開發者所創立的週刊。每週二我們會撰寫一篇原創文章與蒐集一系列國內外的好文與大家分享。內容包含 Web 前端、後端、DevOps、產品開發、專案管理 ... 等等，一切跟產品開發有關的知識。</span></div><div id="site-social-icons"><a class="social-icon" href="https://www.facebook.com/starbugsweekly" target="_blank"><i class="fa fa-facebook"></i></a><a class="social-icon" href="https://medium.com/starbugs" target="_blank"><i class="fa fa-medium"></i></a><a class="social-icon" href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></div></div><div class="scroll-down"><i class="fa fa-angle-down scroll-down-effects"></i></div><div class="subscription"><span>SUBSCRIBE WITH MAIL</span><!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://gmail.us5.list-manage.com/subscribe/post?u=a55f7ec85b3c017297ef42d78&amp;id=56f46005ce" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" style="margin: 0px 24px" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a55f7ec85b3c017297ef42d78_56f46005ce" tabindex="-1" value=""></div>
    <div class="clear">
        <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" style="background: #E35751"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--><span>No spam, ever. We'll never share your address and you can opt out at any time</span></div></div><div class="layout layout_post" id="content-inner"><article id="post"><h1>#10 第十期 - 新的一年，從香草 JS 的單元測試開始</h1><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> Created on 2020-01-07</time><div class="article-container" id="post-content"><h2 id="本週專欄"><a href="#本週專欄" class="headerlink" title="本週專欄"></a>本週專欄</h2><h3 id="Unit-Test-香草-JS-的單元測試-feat-testing-library-dom"><a href="#Unit-Test-香草-JS-的單元測試-feat-testing-library-dom" class="headerlink" title="Unit Test | 香草 JS 的單元測試 feat. @testing-library/dom"></a><a href="https://medium.com/@GQSM/unit-test-%E9%A6%99%E8%8D%89-js-%E7%9A%84%E5%96%AE%E5%85%83%E6%B8%AC%E8%A9%A6-feat-testing-library-dom-f8539137bec9" target="_blank" rel="noopener">Unit Test | 香草 JS 的單元測試 feat. @testing-library/dom</a></h3><p>相信大家應該都聽過單元測試，但如果把單元測試放到前端來，就會因為各種前端框架的關係，讓測試的寫法產生差異，例如寫 Vue 的話可能會使用 @vue/test-utils，React 的朋友們大概是 react-testing-library、enzyme，但如果不使用前端框架呢？在沒使用前端框架的情況下，就沒辦法直接載入 component 搞定一切，這時候該如何將對應的 HTML 載入為 JavaScript 進行測試？</p>
<h2 id="神-Q-超人"><a href="#神-Q-超人" class="headerlink" title="神 Q 超人"></a>神 Q 超人</h2><h3 id="70-JavaScript-Interview-Questions"><a href="#70-JavaScript-Interview-Questions" class="headerlink" title="70 JavaScript Interview Questions"></a><a href="https://dev.to/macmacky/70-javascript-interview-questions-5gfi" target="_blank" rel="noopener">70 JavaScript Interview Questions</a></h3><p>每年中最讓人蠢蠢欲動的跳槽期又要來了，但是準備面試不管過了多久都是一件很麻煩的事情，特別是對於 JavaScript 這種獨特性非常高的語言來說，能考的面試題更是千奇百怪，如果你還沒有方向該如何開始準備，那絕對不能錯過本篇文章挑選的 JavaScript 精選 70 題。</p>
<h3 id="暸解單元測試"><a href="#暸解單元測試" class="headerlink" title="暸解單元測試"></a><a href="http://otischou.tw/2019/08/02/unit-test.html" target="_blank" rel="noopener">暸解單元測試</a></h3><p>如果各位讀者覺得學習測試的文章都太過分散，很難有一篇可以從「為什麼我們要寫測試？」、「如何思考怎麼寫測試案例？」、「好的測試案例長什麼樣子？」到各種測試的方法解說，導致測試學習門檻太高無法消化。但是現在！非常幸運的這裡剛好就有一篇精華大匯集，能夠成為各位迷途時的最佳指南！</p>
<h3 id="Redux-VS-React-Context-Which-one-should-you-choose"><a href="#Redux-VS-React-Context-Which-one-should-you-choose" class="headerlink" title="Redux VS React Context: Which one should you choose?"></a><a href="https://dev.to/ibrahima92/redux-vs-react-context-which-one-should-you-choose-2hhh" target="_blank" rel="noopener">Redux VS React Context: Which one should you choose?</a></h3><p>這是一個從年初被提到年尾的議題，在去年隨著 Hooks 申裝上 React，讓 React Context 變得更方便使用的同時，到底該如何在 Redux 和 React Context 間做選擇？再客觀的做出抉擇前！我們得先來了解 React Context 和 Hooks 使用的正確姿勢！</p>
<h2 id="Larry-Lu"><a href="#Larry-Lu" class="headerlink" title="Larry Lu"></a>Larry Lu</h2><h3 id="Moving-beyond-console-log-—-8-Console-Methods-You-Should-Use-When-Debugging-JavaScript-and-Node"><a href="#Moving-beyond-console-log-—-8-Console-Methods-You-Should-Use-When-Debugging-JavaScript-and-Node" class="headerlink" title="Moving beyond console.log() — 8 Console Methods You Should Use When Debugging JavaScript and Node"></a><a href="https://levelup.gitconnected.com/moving-beyond-console-log-8-console-methods-you-should-use-when-debugging-javascript-and-node-25f6ac840ada" target="_blank" rel="noopener">Moving beyond console.log() — 8 Console Methods You Should Use When Debugging JavaScript and Node</a></h3><p>還在傻傻的用 <code>console.log</code> 找 bug 嗎？除了 log 之外其實 console 模組還有提供很多不同的 method，像是 <code>console.assert</code>、<code>console.table</code> 等等，善用這些 method 才能讓你事半功倍</p>
<h3 id="How-programming-languages-got-their-names"><a href="#How-programming-languages-got-their-names" class="headerlink" title="How programming languages got their names"></a><a href="https://dev.to/scottydocs/how-programming-languages-got-their-names-207e" target="_blank" rel="noopener">How programming languages got their names</a></h3><p>今天看到一篇很有趣的文章，在講 Python、Ruby、Perl 等等程式語言的名字是怎麼來的，沒什麼技術含量，當作冷知識來看看還不錯XD</p>
<h3 id="設計模式其實是程式語言的缺陷？"><a href="#設計模式其實是程式語言的缺陷？" class="headerlink" title="設計模式其實是程式語言的缺陷？"></a><a href="https://link.medium.com/dbnTOLK6Z2" target="_blank" rel="noopener">設計模式其實是程式語言的缺陷？</a></h3><p>設計模式是程式語言的缺陷嗎？每個人的想法可能不太一樣，但不管你認不認同都可以來讀讀這篇文章，裡面舉了一些例子在講不同模式在不同語言中的實作差異，很值得一讀</p>
<h2 id="LukaTW"><a href="#LukaTW" class="headerlink" title="LukaTW"></a>LukaTW</h2><h3 id="JavaScript-Visualized-the-JavaScript-Engine"><a href="#JavaScript-Visualized-the-JavaScript-Engine" class="headerlink" title="JavaScript Visualized: the JavaScript Engine"></a><a href="https://dev.to/lydiahallie/javascript-visualized-the-javascript-engine-4cdf" target="_blank" rel="noopener">JavaScript Visualized: the JavaScript Engine</a></h3><p>使用動畫的方式來解釋 JS 內部引擎的實作，Byte Stream 是什麼？Token 是什麼？Interpreter 如何走訪 AST 樹，並且產生 byte code。用看動畫的方式來學習感覺好清楚呀！</p>
<h3 id="JavaScript-Map-Method-Explained-by-Going-On-a-Hike"><a href="#JavaScript-Map-Method-Explained-by-Going-On-a-Hike" class="headerlink" title="JavaScript Map() Method Explained by Going On a Hike"></a><a href="https://dev.to/kbk0125/javascript-map-method-explained-by-going-on-a-hike--537i" target="_blank" rel="noopener">JavaScript Map() Method Explained by Going On a Hike</a></h3><p>用「遠足」來解釋 JS 中的 Map 方法，太有創意了！😆</p>
<h3 id="Vue-Testing-Crash-Course"><a href="#Vue-Testing-Crash-Course" class="headerlink" title="Vue Testing Crash Course"></a><a href="https://dev.to/blacksonic/vue-testing-crash-course-59kl" target="_blank" rel="noopener">Vue Testing Crash Course</a></h3><p>用十個範例入門 Vue.js 測試，從單元測試，到整合測試，到端對端測試 (E2E Test) 通通都有。</p>
<h2 id="smalltown"><a href="#smalltown" class="headerlink" title="smalltown"></a>smalltown</h2><h3 id="Chaos-Mesh-Cloud-Native-Chaos-Engineering-Platform"><a href="#Chaos-Mesh-Cloud-Native-Chaos-Engineering-Platform" class="headerlink" title="Chaos Mesh - Cloud Native Chaos Engineering Platform"></a><a href="https://github.com/pingcap/chaos-mesh" target="_blank" rel="noopener">Chaos Mesh - Cloud Native Chaos Engineering Platform</a></h3><p>Chaos Mesh 是一個 Cloud Native 的開源 Chaos Engineering 平台，主要是用來測試 Kubernetes 環境，開發到目前主要有兩個元件：</p>
<ul>
<li><p>Chaos Operator：為 Chaos Mesh 的主要核心元件，他會在可管理範圍內幫忙注入 Chaos 在 Application 和 K8S 內，主要透過 Controller-manager, Chaos-daemon 和 Sidecar 這三個元件的互相配合來達成在系統中製造 Chaos 的目標</p>
</li>
<li><p>Chaos Dashboard：用來呈現在 Chaos 實驗中，線上服務所受到的影響</p>
</li>
</ul>
<h3 id="Injecting-Vault-Secrets-into-Kubernetes-Pods-via-a-Sidecar-amp-Dynamic-Database-Credentials-with-Vault-and-Kubernetes"><a href="#Injecting-Vault-Secrets-into-Kubernetes-Pods-via-a-Sidecar-amp-Dynamic-Database-Credentials-with-Vault-and-Kubernetes" class="headerlink" title="Injecting Vault Secrets into Kubernetes Pods via a Sidecar &amp; Dynamic Database Credentials with Vault and Kubernetes"></a><a href="https://www.hashicorp.com/blog/injecting-vault-secrets-into-kubernetes-pods-via-a-sidecar/" target="_blank" rel="noopener">Injecting Vault Secrets into Kubernetes Pods via a Sidecar</a> &amp; <a href="https://www.hashicorp.com/blog/dynamic-database-credentials-with-vault-and-kubernetes/" target="_blank" rel="noopener">Dynamic Database Credentials with Vault and Kubernetes</a></h3><p>HashiCorp 在 2019 年底的時候發出了兩篇如何使用 Vault 來管理 Kubernetes 的文章，這次比較不一樣的地方在於，HashiCorp 開源了一個叫做 <a href="https://github.com/hashicorp/vault-k8s" target="_blank" rel="noopener">vault-k8s</a> 的專案，透過<a href="https://www.vaultproject.io/docs/platform/k8s/injector/index.html" target="_blank" rel="noopener">官方文件</a> 可以很清楚的看到它其實是透過 Kubernetes Mutation Webhook Controller 來協助作業，當 Pod 裡面的 annotation 帶有 <code>vault.hashicorp.com/agent-inject: true</code> 時，他就會根據使用者定義的其他 annotation 來更改這個 Pod (當然就是要如何將 Credentials 給注入進來)；這樣的做法其實在 K8S 的世界是目前很流行的正規方式，而且也不需要 Application 去改動到什麼邏輯，所以還在煩惱自己在 K8S 中的 Application 該怎麼整合 Vault 的話，趕緊來試試看 vault-k8s 就對了</p>
<h3 id="AWS-Open-Source-blog-in-review-2019"><a href="#AWS-Open-Source-blog-in-review-2019" class="headerlink" title="AWS Open Source blog in review: 2019"></a><a href="https://aws.amazon.com/blogs/opensource/open-source-blog-review-2019/" target="_blank" rel="noopener">AWS Open Source blog in review: 2019</a></h3><p>最近 AWS 與開源軟體圈好像越鬧越<a href="https://www.ithome.com.tw/news/134923" target="_blank" rel="noopener">不愉快</a>，不過 AWS 的態度跟立場都還滿強硬的，一直都透過公司的 PR 在表明他們做法的正確性，也在跨完年後，把自己對於 Open Source 的貢獻再次條列一番，尤其是把 2019 下半年爭議最大的 Open Distro for ElasticSearch 特別高光，真是看得心驚膽跳…</p>
<h2 id="StarBugs-Weekly"><a href="#StarBugs-Weekly" class="headerlink" title="StarBugs Weekly"></a>StarBugs Weekly</h2><p>StarBugs Weekly 由一群不寫文章就會想要亂花錢，但是又沒有那麼多錢，只好繼續寫文章的開發者所創立。<br>內容包含 Web 前端、中端、後端、DevOps、產品開發、精實創業，一切跟產品有關的知識，都是我們的守備範圍！</p>
<p>Curators:</p>
<ul>
<li><a href="https://medium.com/@gqsm" target="_blank" rel="noopener">@GQSM</a> - Hi！我是神 Q 超人，一個先衝再說的男人。</li>
<li><a href="https://medium.com/@larry850806" target="_blank" rel="noopener">@Larry850806</a> - 我是 Larry，傳說中的 0.1 倍工程師！</li>
<li><a href="https://medium.com/@LukaTW" target="_blank" rel="noopener">@LukaTW</a> - 一名全身都是死角的工程師。</li>
<li><a href="https://medium.com/@smalltown" target="_blank" rel="noopener">@smalltown</a> - 熱愛鑽研各種可以提升雲端服務品質及增進團隊開發效率的開源技術</li>
</ul>
<h2 id="Feedback"><a href="#Feedback" class="headerlink" title="Feedback"></a>Feedback</h2><p>想看什麼內容，告訴我們！ <a href="https://starbugs.typeform.com/to/mAk2Bk" target="_blank" rel="noopener">點我回饋意見</a></p>
</div></article><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2020/01/14/11-you-subscribe-you-will-earn-a-big-prize/"><img class="prev_cover lozad" data-src="/img/011cover.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>第 11 期 - 訂閱星巴哥，祝你尾牙中大獎！</span></div></a></div><div class="next-post pull-right"><a href="/2019/12/31/09-starbugs-is-around-us/"><img class="next_cover lozad" data-src="/img/009cover.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>#9 第九期 - 今年的最後一天，星巴哥裡有你有我</span></div></a></div></nav></div></div><footer style="background-image: url(/img/banner.jpeg)"><div id="footer"><div class="copyright">&copy;2019 - 2021 By StarBugs Weekly Editors</div></div></footer></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/nightshift.js"></script><script color="0,0,255" opacity="0.7" zIndex="-1" count="39" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/js/canvas-nest.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()
</script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script><script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1626098635131')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body></html>